<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Diego Vilela | Links oficiais</title>
    
    <!-- Meta Tags para não cachear -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="robots" content="noindex, nofollow">

    <link rel="icon" href="../assets/logo.png" type="image/png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="../style.css">
    
    <style>
        /* Apenas ajustes mínimos que não alteram o design system original */
        .bio-link-action {
            color: var(--color-primary);
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: underline;
            margin-top: 8px;
            display: inline-block;
            cursor: pointer;
        }
        
        /* Estilo para o ícone de Consultoria customizado (SVG) */
        .icon-consultoria {
            background: linear-gradient(135deg, #6366f1, #4338ca);
            /* Indigo */
        }
    </style>
</head>

<body>
    <div class="page">
        <header class="hero" role="banner">
            <!-- Sem botão de área do cliente no topo para focar nos contatos, ou mantemos se o user quiser 100% igual -->
            <!-- Mantendo simples conforme "cartão" -->
            
            <picture class="logo">
                <img src="../assets/logo.png" alt="Logotipo da Vilela Engenharia" width="160" height="160">
            </picture>
            
            <div class="heading">
                <span class="badge">Engenheiro Civil &middot; CREA 235.474/D</span>
                <h1>Diego T. N. Vilela</h1>
                
                <!-- BIO SINTETIZADA -->
                <p class="tagline">Seu imóvel 100% regularizado: do projeto à averbação</p>
                <a onclick="openBioModal()" class="bio-link-action">Ler biografia completa</a>
            </div>

            <div class="hero-actions">
                <a class="hero-whatsapp" href="https://wa.me/5535984529577?text=Ola%20Diego%20Vilela" target="_blank" rel="noopener">
                    (35) 98452-9577
                </a>
                <a class="hero-vcard" href="../assets/diego-vilela.vcf" download>Salve meu contato</a>
            </div>
        </header>

        <main class="content">

            <!-- 1. Regularizações -->
            <section class="links">
                <h2 class="section-heading">Regularizações de Imóveis</h2>
                <ul class="links-grid">
                    <li>
                        <button class="link-card link-card--city" onclick="openModal('Prefeitura')">
                            <span class="icon" aria-hidden="true">
                                <img src="../assets/icon-prefeitura.png" alt="" width="28" height="28">
                            </span>
                            <span class="text">
                                <span class="title">Prefeitura</span>
                                <span class="subtitle">Projetos de Regularização</span>
                            </span>
                        </button>
                    </li>
                    <li>
                        <button class="link-card link-card--federal" onclick="openModal('Receita Federal')">
                            <span class="icon" aria-hidden="true">
                                <img src="../assets/icon-receita.png" alt="" width="28" height="28">
                            </span>
                            <span class="text">
                                <span class="title">Receita Federal</span>
                                <span class="subtitle">CND e regularização de obras</span>
                            </span>
                        </button>
                    </li>
                    <li>
                        <button class="link-card link-card--registry" onclick="openModal('Cartório de Imóveis')">
                            <span class="icon" aria-hidden="true">
                                <img src="../assets/icon-cartorio.png" alt="" width="28" height="28">
                            </span>
                            <span class="text">
                                <span class="title">Cartório de Imóveis</span>
                                <span class="subtitle">Averbação e escritura</span>
                            </span>
                        </button>
                    </li>
                </ul>
            </section>

            <!-- 2. Engenharia -->
            <section class="links">
                <h2 class="section-heading">Projetos de Engenharia</h2>
                <ul class="links-grid">
                    <li>
                        <button class="link-card link-card--engineering" onclick="openModal('Projetos de Engenharia')">
                            <span class="icon" aria-hidden="true">
                                <img src="../assets/icon-projetos-new.png" alt="" width="28" height="28">
                            </span>
                            <span class="text">
                                <span class="title">Projetos de Engenharia</span>
                                <span class="subtitle">Arquitetônico, Estrutural e mais</span>
                            </span>
                        </button>
                    </li>
                </ul>
            </section>

            <!-- 3. Consultoria (NOVO) -->
            <section class="links">
                <h2 class="section-heading">Consultoria Técnica</h2>
                <ul class="links-grid">
                    <li>
                        <button class="link-card" onclick="openModal('Consultoria')">
                            <!-- Ícone SVG Customizado, usando a mesma classe .icon para manter tamanho/shape -->
                            <span class="icon icon-consultoria" aria-hidden="true">
                                <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9 5H7C5.89543 5 5 5.89543 5 7V19C5 20.1046 5.89543 21 7 21H17C18.1046 21 19 20.1046 19 19V7C19 5.89543 18.1046 5 17 5H15M9 5C9 6.10457 9.89543 7 11 7H13C14.1046 7 15 6.10457 15 5M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5M12 12H15M12 16H15M9 12H9.01M9 16H9.01"/>
                                </svg>
                            </span>
                            <span class="text">
                                <span class="title">Consultoria e Laudos</span>
                                <span class="subtitle">Vistorias, Laudos e Perícia</span>
                            </span>
                        </button>
                    </li>
                </ul>
            </section>

        </main>
        
        <footer class="footer">
            <small>&copy; <span id="year">2025</span> Vilela Engenharia. Todos os direitos reservados.</small>
        </footer>

        <!-- Modal de Serviços (Cópia da estrutura original + ajuste ID) -->
        <div id="serviceModal" class="modal" aria-hidden="true">
            <div class="modal__overlay" tabindex="-1" data-micromodal-close></div>
            <div class="modal__content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
                <button class="modal__close" aria-label="Fechar modal" data-micromodal-close>
                    <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
                <header class="modal__header">
                    <h2 id="modalTitle">Selecione os serviços</h2>
                    <p class="modal__subtitle">Marque os itens que você precisa:</p>
                </header>
                <div id="serviceListContainer" class="service-list"></div>
                <div class="modal-footer">
                    <button id="whatsappSubmit" class="btn-whatsapp-longo">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M17.472 14.382C17.175 14.233 15.714 13.515 15.442 13.415C15.169 13.316 14.971 13.267 14.772 13.565C14.575 13.862 14.005 14.531 13.832 14.729C13.659 14.928 13.485 14.952 13.188 14.804C12.891 14.654 11.933 14.341 10.798 13.329C9.915 12.541 9.318 11.568 9.145 11.27C8.972 10.973 9.127 10.812 9.276 10.664C9.41 10.531 9.574 10.317 9.722 10.144C9.871 9.97 9.92 9.846 10.02 9.648C10.12 9.45 10.07 9.277 9.995 9.128C9.92 8.979 9.326 7.516 9.079 6.921C8.837 6.342 8.592 6.421 8.41 6.411C8.237 6.403 8.039 6.403 7.84 6.403C7.642 6.403 7.32 6.477 7.048 6.775C6.776 7.072 6.008 7.791 6.008 9.254C6.008 10.716 7.073 12.129 7.221 12.328C7.37 12.526 9.317 15.527 12.298 16.814C13.007 17.12 13.56 17.303 13.992 17.439C14.71 17.666 15.358 17.634 15.869 17.557C16.439 17.472 17.626 16.838 17.874 16.144C18.122 15.45 18.122 14.855 18.047 14.731C17.973 14.607 17.775 14.533 17.478 14.384H17.472ZM12.05 24C9.879 24 7.838 23.453 6.032 22.487L5.798 22.342L1.514 23.375L3.804 19.191L3.651 18.948C2.553 17.195 1.978 15.149 1.978 13.047C1.978 7.495 6.495 2.979 12.054 2.979C14.745 2.98 17.274 4.028 19.175 5.929C21.077 7.831 22.125 10.36 22.125 13.051C22.125 18.603 17.608 23.12 12.05 23.12V24ZM12.054 0C4.844 0 0 4.844 0 12.053C0 14.683 0.853 17.115 2.315 19.102L0 27.553L8.676 25.278C10.573 26.312 12.72 26.855 14.912 26.855H14.918C22.129 26.855 27.973 21.011 27.973 13.802C27.973 6.593 22.129 0.749 14.918 0.749H12.054Z" fill="white" /></svg>
                        <span style="flex-grow: 1; text-align: center;">Falar com Diego Vilela</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Modal Bio (Sobre Mim) -->
        <div id="bioModal" class="modal" aria-hidden="true" style="z-index: 110;">
            <div class="modal__overlay" tabindex="-1" onclick="closeBioModal()"></div>
            <div class="modal__content" role="dialog" aria-modal="true" style="max-width: 500px;">
                <button class="modal__close" aria-label="Fechar modal" onclick="closeBioModal()">
                   <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
                </button>
                <div style="text-align: center; margin-bottom: 20px;">
                    <img src="../assets/foto-diego-new.jpg" alt="Diego Vilela" style="width: 100px; height: 100px; border-radius: 50%; border: 4px solid var(--color-primary); object-fit: cover;">
                    <h2 style="margin: 12px 0 4px; color: var(--color-primary-strong);">Diego T. N. Vilela</h2>
                    <span style="font-size: 0.9rem; color: #666;">Engenheiro Civil</span>
                </div>
                <div style="line-height: 1.7; color: var(--color-text-subtle);">
                    <p style="margin-bottom: 16px;">Olá, sou <strong>Diego Vilela</strong>.</p>
                    <p style="margin-bottom: 16px;">Com formação pela <strong>Universidade Federal de São João Del Rei (UFSJ)</strong> e experiência como <strong>Analista de Projetos na Prefeitura de Oliveira</strong>, uno o rigor técnico à eficácia processual.</p>
                    <p style="margin-bottom: 16px;">Meu compromisso é garantir que seu projeto ou regularização siga o caminho mais <strong>eficiente</strong>, evitando atrasos e custos desnecessários.</p>
                    <p>Estou à disposição para servir e ajudar você a legalizar seu patrimônio com máxima confiança.</p>
                </div>
            </div>
        </div>

        <script>
            // Lógica Inline para evitar problemas de caminho com script.js global
            (function () {
                const servicesData = {
                    'Prefeitura': [
                        "Alvará de Construção (Obra Nova)",
                        "Regularização de Obra (Anistia)",
                        "Habite-se",
                        "Alvará de Reforma/Demolição",
                        "Desmembramento/Remembramento",
                        "Usucapião (Fase Municipal)"
                    ],
                    'Receita Federal': [
                        "CNO (Cadastro Nacional de Obras)",
                        "SERO (Aferição de Obras)",
                        "CND de Obra (INSS)",
                        "Regularização de CPF/CNPJ"
                    ],
                    'Cartório de Imóveis': [
                        "Averbação de Construção",
                        "Instituição de Condomínio",
                        "Retificação de Área",
                        "Registro de Usucapião",
                        "Unificação/Desmembramento"
                    ],
                    'Projetos de Engenharia': [
                        "Projeto Arquitetônico",
                        "Projeto Estrutural",
                        "Projetos Complementares",
                        "Laudo Técnico"
                    ],
                    'Consultoria': [
                        "Laudo Técnico de Reforma",
                        "Laudo de Vistoria (Entrega de Chaves)",
                        "Consultoria Técnica em Obras",
                        "Perícia de Engenharia"
                    ]
                };

                const myPhoneNumber = "5535984529577";
                const modal = document.getElementById('serviceModal');
                const bioModal = document.getElementById('bioModal');
                const modalTitle = document.getElementById('modalTitle');
                const serviceListContainer = document.getElementById('serviceListContainer');
                const whatsappSubmitBtn = document.getElementById('whatsappSubmit');
                
                let currentCategory = '';

                // Open Service Modal
                window.openModal = function (category) {
                    currentCategory = category;
                    modalTitle.textContent = category;
                    serviceListContainer.innerHTML = '';

                    if (servicesData[category]) {
                        servicesData[category].forEach((service, index) => {
                            const label = document.createElement('label');
                            label.className = 'service-option';
                            
                            // Usando o design do checkbox original do site se houver estilos, senão fallback
                            const checkbox = document.createElement('input');
                            checkbox.type = 'checkbox';
                            checkbox.value = service;
                            checkbox.classList.add('service-item-checkbox');

                            const span = document.createElement('span');
                            span.textContent = service;

                            label.appendChild(checkbox);
                            label.appendChild(span);
                            serviceListContainer.appendChild(label);
                        });
                    }

                    modal.classList.add('is-open');
                    modal.removeAttribute('aria-hidden');
                    document.body.classList.add('modal-open');
                };

                window.closeModal = function () {
                    modal.classList.remove('is-open');
                    modal.setAttribute('aria-hidden', 'true');
                    document.body.classList.remove('modal-open');
                }
                
                // Bio Modal
                window.openBioModal = function() {
                    bioModal.classList.add('is-open');
                    bioModal.removeAttribute('aria-hidden');
                    document.body.classList.add('modal-open');
                }
                
                window.closeBioModal = function() {
                    bioModal.classList.remove('is-open');
                    bioModal.setAttribute('aria-hidden', 'true');
                    document.body.classList.remove('modal-open');
                }

                document.querySelectorAll('[data-micromodal-close]').forEach(btn => {
                    btn.addEventListener('click', function() {
                        closeModal();
                        closeBioModal();
                    });
                });

                if (whatsappSubmitBtn) {
                    whatsappSubmitBtn.addEventListener('click', () => {
                        const selectedServices = Array.from(serviceListContainer.querySelectorAll('input[type="checkbox"]:checked'))
                            .map(cb => cb.value);

                        let message = '';
                        if (selectedServices.length > 0) {
                            message = `Oi Diego! Vim pelo cartão digital. Tenho interesse em *${currentCategory}*:\n\n- ${selectedServices.join('\n- ')}`;
                        } else {
                            message = `Oi Diego! Vim pelo cartão digital. Tenho interesse em *${currentCategory}*.`;
                        }

                        const url = `https://wa.me/${myPhoneNumber}?text=${encodeURIComponent(message)}`;
                        window.open(url, '_blank');
                        closeModal();
                    });
                }
                
                // Copyright Year
                const yearSpan = document.getElementById('year');
                if (yearSpan) {
                    yearSpan.textContent = new Date().getFullYear();
                }
            })();
        </script>
</body>
</html>
